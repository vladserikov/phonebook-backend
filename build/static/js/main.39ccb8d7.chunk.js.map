{"version":3,"sources":["Filter.js","Person.js","Persons.js","PersonForm.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Filter","value","onChange","Person","name","number","deletePerson","onClick","Persons","persons","map","person","key","id","PersonForm","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","baseUrl","axios","get","then","res","data","obj","post","delete","put","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","filterName","setFilterName","notification","setNotification","useEffect","personService","initialData","personsFilter","filter","p","includes","target","e","preventDefault","existPerson","find","question","window","confirm","returnedPerson","setTimeout","catch","err","concat","console","log","response","error","ReactDOM","render","document","getElementById"],"mappings":"2NAUeA,EARA,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACpB,OACI,iDACqB,2BAAOD,MAAOA,EAAOC,SAAUA,MCK7CC,EARA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAC5B,OACI,4BACKF,EADL,IACYC,EADZ,IACoB,4BAAQE,QAASD,GAAjB,YCUbE,EAZC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASH,EAAmB,EAAnBA,aACxB,OACI,4BAEQG,EAAQC,KAAI,SAAAC,GAAM,OACd,kBAAC,EAAD,CAAQC,IAAKD,EAAOP,KAAMA,KAAMO,EAAOP,KAAMC,OAAQM,EAAON,OAAQC,aAAc,kBAAMA,EAAaK,EAAOE,YCUjHC,EAhBI,SAAC,GAAqE,IAApEC,EAAmE,EAAnEA,UAAWC,EAAwD,EAAxDA,QAASC,EAA+C,EAA/CA,cAAeC,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,gBAC/D,OACI,0BAAMC,SAAUL,GACZ,sCACU,2BAAOd,MAAOe,EAASd,SAAUe,KAE3C,wCACY,2BAAOhB,MAAOiB,EAAWhB,SAAUiB,KAE/C,6BACI,4BAAQE,KAAK,UAAb,U,gBCXVC,EAAU,eAUD,EARA,kBAAMC,IAAMC,IAAIF,GAASG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAQzC,EANA,SAACC,GAAD,OAASL,IAAMM,KAAKP,EAASM,GAAKH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAMlD,EAJC,SAACd,GAAD,OAAQU,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BT,IAAMY,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAI1D,EAFA,SAACd,EAAIe,GAAL,OAAaL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBT,GAAMe,GAAKH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCIhEK,EAXM,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACnB,OAAe,OAAZA,EACQ,KAGP,yBAAKC,UAAU,SACVD,ICoHEE,EArHH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACP3B,EADO,KACE4B,EADF,OAEgBD,mBAAS,IAFzB,mBAEPpB,EAFO,KAEEsB,EAFF,OAGoBF,mBAAS,IAH7B,mBAGPlB,EAHO,KAGIqB,EAHJ,OAIsBH,mBAAS,IAJ/B,mBAIPI,EAJO,KAIKC,EAJL,OAK0BL,mBAAS,MALnC,mBAKPM,EALO,KAKOC,EALP,KAOdC,qBAAU,WACNC,IAEKpB,MAAK,SAAAqB,GACFT,EAAWS,QAEpB,IAEH,IAAMC,EAAgBtC,EAAQuC,QAAO,SAAAC,GAAC,OAAIA,EAAE7C,KAAK8C,SAASV,MAmF1D,OACI,6BACI,yCACA,kBAAC,EAAD,CAAcP,QAASS,IACvB,kBAAC,EAAD,CAAQzC,MAAOuC,EAAYtC,SA7Bd,SAAC,GAAc,IAAbiD,EAAY,EAAZA,OACnBV,EAAcU,EAAOlD,UA6BjB,yCACA,kBAAC,EAAD,CACIc,UAxFM,SAACqC,GACfA,EAAEC,iBACF,IAAM1C,EAAS,CAAEP,KAAMY,EAASX,OAAQa,GAClCoC,EAAc7C,EAAQ8C,MAAK,SAAAN,GAAC,OAAIA,EAAE7C,OAASY,KACjD,GAAIsC,EAAa,CACb,IAAME,EAAWC,OAAOC,QAAP,UAAkBJ,EAAYlD,KAA9B,oEAEXS,EAAKyC,EAAYzC,GACpB2C,GACCX,EACYhC,EAAIF,GACXc,MAAK,SAAAkC,GACFtB,EAAW5B,EAAQC,KAAI,SAAAuC,GAAC,OAAIA,EAAEpC,KAAOA,EAAKoC,EAAGU,MAC7ChB,EAAgB,GAAD,OAAIgB,EAAevD,KAAnB,mBAEfwD,YAAW,WACPjB,EAAgB,QACjB,QAENkB,OAAM,SAAAC,GACHF,YAAW,WACPjB,EAAgB,QACjB,KACHA,EAAgB,eAAD,OAAgBW,EAAYlD,KAA5B,kDAI3ByC,EACYlC,GACPc,MAAK,SAAAkC,GACFtB,EAAW5B,EAAQsD,OAAOJ,IAC1BhB,EAAgB,SAAD,OAAUgB,EAAevD,OACxCwD,YAAW,WACPjB,EAAgB,QACjB,QAENkB,OAAM,SAAAC,GACHE,QAAQC,IAAIH,EAAII,SAASvC,MACzBgB,EAAgB,GAAD,OAAImB,EAAII,SAASvC,KAAKwC,QACrCP,YAAW,WACPjB,EAAgB,QACjB,QAGfL,EAAW,IACXC,EAAa,KA4CLvB,QAASA,EACTC,cA1CU,SAAC,GAAc,IAAbkC,EAAY,EAAZA,OACpBb,EAAWa,EAAOlD,QA0CViB,UAAWA,EACXC,gBAxCY,SAAC,GAAc,IAAbgC,EAAY,EAAZA,OACtBZ,EAAaY,EAAOlD,UAyChB,uCACA,kBAAC,EAAD,CAASQ,QAASsC,EAAezC,aAnCpB,SAACO,GAClB,IAAMF,EAASF,EAAQ8C,MAAK,SAAAN,GAAC,OAAIA,EAAEpC,KAAOA,KACzB4C,OAAOC,QAAP,iBAAyB/C,EAAOP,QAG7CyC,EACahC,GACRY,MAAK,SAAAC,GACFW,EAAW5B,EAAQuC,QAAO,SAAAC,GAAC,OAAIA,EAAEpC,KAAOA,SAE3CgD,OAAM,SAAAC,GACHF,YAAW,WACPjB,EAAgB,QACjB,KACHA,EAAgB,GAAD,OAAIhC,EAAOP,KAAX,gCC5FnCgE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.39ccb8d7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange}) => {\n    return (\n        <div>\n            filter show with <input value={value} onChange={onChange} />\n        </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Person = ({ name, number, deletePerson }) => {\n    return (\n        <li>\n            {name} {number} <button onClick={deletePerson} >delete</button>\n        </li>\n    )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, deletePerson }) => {\n    return (\n        <ul>\n            {\n                persons.map(person => \n                    <Person key={person.name} name={person.name} number={person.number} deletePerson={() => deletePerson(person.id)} />\n                )\n            }\n        </ul>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNewName, newNumber, handleNewNumber}) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNewName} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNewNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(res => res.data)\n\nconst create = (obj) => axios.post(baseUrl, obj).then(res => res.data)\n\nconst removed = (id) => axios.delete(`${baseUrl}/${id}`).then(res => res.data)\n\nconst update = (id, obj) => axios.put(`${baseUrl}/${id}`, obj).then(res => res.data)\n\nexport default {\n    getAll,\n    create,\n    removed,\n    update,\n}","import React from 'react'\n\nconst Notification = ({message}) => {\n    if(message === null){\n        return null\n    }\n    return (\n        <div className='error'>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport personService from './services/persons'\nimport Notification from './Notification'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filterName, setFilterName] = useState('')\n    const [notification, setNotification] = useState(null)\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(initialData => {\n                setPersons(initialData)\n            })\n    }, [])\n\n    const personsFilter = persons.filter(p => p.name.includes(filterName))\n\n    const addPerson = (e) => {\n        e.preventDefault()\n        const person = { name: newName, number: newNumber }\n        const existPerson = persons.find(p => p.name === newName)\n        if (existPerson) {\n            const question = window.confirm(`${existPerson.name} is alredy to phonebook, replace the od number whith a new one?`)\n\n            const id = existPerson.id\n            if(question){\n                personService\n                    .update(id, person)\n                    .then(returnedPerson => {\n                        setPersons(persons.map(p => p.id !== id ? p :returnedPerson))\n                        setNotification(`${returnedPerson.name} change number`)\n\n                        setTimeout(() => {\n                            setNotification(null)\n                        }, 5000);\n                    })\n                    .catch(err => {\n                        setTimeout(() => {\n                            setNotification(null)\n                        }, 3000);\n                        setNotification(`Information ${existPerson.name} has already been removed from server`)\n                    })\n            }\n        } else {\n            personService\n                .create(person)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                    setNotification(`Added ${returnedPerson.name}`)\n                    setTimeout(() => {\n                        setNotification(null)\n                    }, 5000);\n                })\n                .catch(err => {\n                    console.log(err.response.data)\n                    setNotification(`${err.response.data.error}`)\n                    setTimeout(() => {\n                        setNotification(null)\n                    }, 3000);\n                })\n        }\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleNewName = ({target}) => {\n        setNewName(target.value)\n    }\n\n    const handleNewNumber = ({target}) => {\n        setNewNumber(target.value)\n    }\n\n    const handleFilter = ({target}) => {\n        setFilterName(target.value)\n    }\n\n    const deletePerson = (id) => {\n        const person = persons.find(p => p.id === id)\n        const question = window.confirm(`Delete ${person.name}`)\n\n        if(question){\n            personService\n                .removed(id)\n                .then(res => {\n                    setPersons(persons.filter(p => p.id !== id))\n                })\n                .catch(err => {\n                    setTimeout(() => {\n                        setNotification(null)\n                    }, 3000);\n                    setNotification(`${person.name} delete from server`)\n                })\n        } else {\n            return\n        }\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notification} />\n            <Filter value={filterName} onChange={handleFilter} />\n            <h2>add a new</h2>\n            <PersonForm \n                addPerson={addPerson}\n                newName={newName}\n                handleNewName={handleNewName}\n                newNumber={newNumber}\n                handleNewNumber={handleNewNumber}\n            />\n            <h2>Numbers</h2>\n            <Persons persons={personsFilter} deletePerson={deletePerson} />\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}